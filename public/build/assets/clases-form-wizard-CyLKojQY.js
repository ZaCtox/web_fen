let i=1;const u=4;document.addEventListener("DOMContentLoaded",()=>{a(1),d(1),document.querySelectorAll(".hci-input, .hci-select, .hci-textarea, select, input").forEach(t=>t.addEventListener("input",l)),document.addEventListener("change",l),l()});window.nextStep=function(){i<u&&m()&&(i++,a(i),d(i))};window.prevStep=function(){i>1&&(i--,a(i),d(i))};window.navigateToStep=function(e){(e<=i||m())&&(i=e,a(e),d(e))};window.cancelForm=function(){window.hasUnsavedChanges&&window.hasUnsavedChanges()?window.showUnsavedChangesModal(window.location.origin+"/clases"):window.location.href=window.location.origin+"/clases"};window.submitForm=function(){m()&&document.querySelector(".hci-form").submit()};function a(e){document.querySelectorAll(".hci-form-section").forEach(o=>o.classList.remove("active"));const t=document.getElementById(b(e));t&&(t.classList.add("active"),t.scrollIntoView({behavior:"smooth",block:"start"})),document.querySelectorAll(".hci-progress-step-vertical").forEach((o,r)=>{r+1<=e?o.classList.add("completed","active"):o.classList.remove("completed","active")})}function d(e){const t=e/u*100,o=document.getElementById("progress-bar");o&&(o.style.height=t+"%");const r=document.getElementById("current-step");r&&(r.textContent=`Paso ${e} de ${u}`);const c=document.getElementById("progress-percentage");c&&(c.textContent=Math.round(t)+"%")}function b(e){return["programa","sala","horario","resumen"][e-1]}function m(){const t=document.getElementById(b(i)).querySelectorAll("input[required], select[required], textarea[required]");let o=!0;return t.forEach(r=>{r.value.trim()?_(r):(o=!1,k(r))}),o||M("Completa los campos requeridos."),o}function M(e){let t=document.getElementById("step-error-message");t||(t=document.createElement("div"),t.id="step-error-message",t.className="hci-error-message",document.querySelector(".hci-container").insertBefore(t,document.querySelector(".hci-wizard-layout"))),t.innerHTML=`<div class="hci-error-content"><span class="hci-error-icon">âš ï¸</span><span class="hci-error-text">${e}</span></div>`,setTimeout(()=>t&&t.remove(),4e3)}function k(e){const t=e.checkValidity(),o=e.closest(".hci-field"),r=o==null?void 0:o.querySelector(".hci-field-error");if(t)_(e);else if(e.classList.add("border-red-500"),e.classList.remove("border-gray-300"),!r){const c=document.createElement("div");c.className="hci-field-error",c.textContent=e.validationMessage||"Campo requerido",o==null||o.appendChild(c)}}function _(e){e.classList.remove("border-red-500"),e.classList.add("border-gray-300");const t=e.closest(".hci-field"),o=t==null?void 0:t.querySelector(".hci-field-error");o&&o.remove()}function l(){var y,v,S,w,E,C,q,x;const e=s=>{var I,B,L;return((L=(B=(I=s==null?void 0:s.options)==null?void 0:I[s.selectedIndex])==null?void 0:B.textContent)==null?void 0:L.trim())||""},t=e(document.getElementById("magister")),o=e(document.getElementById("course_id")),r=((w=(S=(v=(y=document.getElementById("periodo_info"))==null?void 0:y.options)==null?void 0:v[0])==null?void 0:S.textContent)==null?void 0:w.replace("ğŸ“˜ ",""))||"",c=e(document.querySelector('select[name="tipo"]')),p=e(document.getElementById("modality")),$=e(document.getElementById("room_id")),f=((E=document.querySelector('select[name="dia"]'))==null?void 0:E.value)||"",h=((C=document.querySelector('input[name="hora_inicio"]'))==null?void 0:C.value)||"",g=((q=document.querySelector('input[name="hora_fin"]'))==null?void 0:q.value)||"",z=((x=document.querySelector('input[name="url_zoom"]'))==null?void 0:x.value)||"",n=s=>document.getElementById(s);n("resumen-programa")&&(n("resumen-programa").textContent=t||"â€”"),n("resumen-curso")&&(n("resumen-curso").textContent=o||"â€”"),n("resumen-periodo")&&(n("resumen-periodo").textContent=r||"â€”"),n("resumen-tipo")&&(n("resumen-tipo").textContent=c||"â€”"),n("resumen-modalidad")&&(n("resumen-modalidad").textContent=p||"â€”"),n("resumen-sala")&&(n("resumen-sala").textContent=$||(p==="online"?"â€” (Online)":"â€”")),n("resumen-horario")&&(n("resumen-horario").textContent=f&&h&&g?`${f} ${h}â€“${g}`:"â€”"),n("resumen-zoom")&&(n("resumen-zoom").textContent=z||"â€”")}
