document.addEventListener("DOMContentLoaded",()=>{if(typeof Swal>"u")return;const n=e=>{var t;return(t=document.querySelector(`meta[name="${e}"]`))==null?void 0:t.getAttribute("content")},r=n("session-success"),o=n("session-error")||n("session-validate-error"),i=n("session-warning");r&&Swal.mixin({toast:!0,position:"top-end",timer:2200,timerProgressBar:!0,showConfirmButton:!1}).fire({icon:"success",title:r}),o&&Swal.fire({icon:"error",title:"Error",text:o,confirmButtonText:"Aceptar"}),i&&Swal.fire({icon:"warning",title:"Aviso",text:i,confirmButtonText:"Entendido"}),document.addEventListener("submit",function(e){var s;const t=e.target;if(!t.matches("form.form-eliminar")||t.dataset.submitting==="true")return;e.preventDefault();const a=t.getAttribute("data-confirm"),c=(s=t.querySelector('input[name="__confirm_msg"]'))==null?void 0:s.value,u=a||c||"Esta acción no se puede deshacer.";Swal.fire({title:"¿Estás seguro?",text:u,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(m=>{m.isConfirmed&&(t.dataset.submitting="true",t.submit())})},!0)});
