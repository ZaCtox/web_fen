document.addEventListener("DOMContentLoaded",()=>{if(typeof Swal>"u")return;const o=n=>{var e;return(e=document.querySelector(`meta[name="${n}"]`))==null?void 0:e.getAttribute("content")},i=o("session-success"),s=o("session-error")||o("session-validate-error"),a=o("session-warning");i&&Swal.mixin({toast:!0,position:"top-end",timer:2200,timerProgressBar:!0,showConfirmButton:!1}).fire({icon:"success",title:i}),s&&Swal.fire({icon:"error",title:"Error",text:s,confirmButtonText:"Aceptar"}),a&&Swal.fire({icon:"warning",title:"Aviso",text:a,confirmButtonText:"Entendido"}),document.addEventListener("submit",function(n){var c;const e=n.target;if(!e.matches("form.form-eliminar")||e.dataset.submitting==="true")return;n.preventDefault();const d=e.getAttribute("data-confirm"),l=(c=e.querySelector('input[name="__confirm_msg"]'))==null?void 0:c.value,m=d||l||"Esta acción no se puede deshacer.";Swal.fire({title:"¿Estás seguro?",text:m,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(u=>{if(u.isConfirmed){if(Swal.close(),!document.getElementById("form-loading-overlay")){const t=document.createElement("div");t.id="form-loading-overlay",t.className="loading-overlay",t.innerHTML=`
                        <div class="loading-overlay-content">
                            <div class="inline-block w-12 h-12 animate-spin rounded-full border-4 border-solid border-[#4d82bc] border-r-transparent"></div>
                            <p class="text-gray-700 dark:text-gray-300 font-medium">Procesando...</p>
                        </div>
                    `,document.body.appendChild(t)}e.dataset.submitting="true",e.submit()}else{const t=document.getElementById("form-loading-overlay");t&&t.remove();const r=e.querySelector('button[type="submit"]');r&&(r.classList.remove("btn-loading"),r.disabled=!1),e.classList.remove("form-submitting")}})},!0)});
