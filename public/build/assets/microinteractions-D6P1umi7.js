class r{constructor(){this.init()}init(){this.setupButtonRipples(),this.setupFormAnimations(),this.setupCardHovers(),this.setupLoadingStates(),this.setupScrollAnimations(),this.setupNotificationAnimations(),this.setupKeyboardNavigation(),this.setupTouchGestures(),this.setupAdvancedHovers(),this.setupFocusAnimations(),this.setupSkeletonLoading(),this.setupToastNotifications(),this.setupSwipeGestures(),this.setupParallaxEffects(),this.setupMorphingAnimations()}setupButtonRipples(){if(document.addEventListener("click",t=>{const e=t.target.closest(".hci-button-ripple");if(!e)return;const s=document.createElement("span"),i=e.getBoundingClientRect(),a=Math.max(i.width,i.height),o=t.clientX-i.left-a/2,c=t.clientY-i.top-a/2;s.style.cssText=`
                position: absolute;
                width: ${a}px;
                height: ${a}px;
                left: ${o}px;
                top: ${c}px;
                background: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transform: scale(0);
                animation: ripple 0.6s linear;
                pointer-events: none;
            `,e.style.position="relative",e.style.overflow="hidden",e.appendChild(s),setTimeout(()=>s.remove(),600)}),!document.querySelector("#ripple-styles")){const t=document.createElement("style");t.id="ripple-styles",t.textContent=`
                @keyframes ripple {
                    to {
                        transform: scale(4);
                        opacity: 0;
                    }
                }
            `,document.head.appendChild(t)}}setupFormAnimations(){document.addEventListener("focusin",t=>{t.target.matches(".hci-input")&&(t.target.classList.add("hci-focus"),this.animateLabel(t.target))}),document.addEventListener("focusout",t=>{t.target.matches(".hci-input")&&t.target.classList.remove("hci-focus")}),document.addEventListener("input",t=>{t.target.matches(".hci-input")&&this.validateField(t.target)})}animateLabel(t){const e=t.previousElementSibling;e&&e.classList.contains("hci-label")&&(e.style.transform="translateY(-20px) scale(0.9)",e.style.color="#3b82f6")}validateField(t){const e=t.value.trim(),s=this.isValidField(t,e);t.classList.remove("error","success"),e.length>0&&t.classList.add(s?"success":"error")}isValidField(t,e){const s=t.type;return t.hasAttribute("required")&&!e?!1:s==="email"?this.isValidEmail(e):s==="tel"?this.isValidPhone(e):!(t.minLength&&e.length<t.minLength)}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}isValidPhone(t){return/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/\s/g,""))}setupCardHovers(){document.addEventListener("mouseenter",t=>{if(t.target.closest(".hci-card-hover")){const e=t.target.closest(".hci-card-hover");e.style.transform="translateY(-4px)",e.style.boxShadow="0 10px 25px rgba(0, 0, 0, 0.1)"}},!0),document.addEventListener("mouseleave",t=>{if(t.target.closest(".hci-card-hover")){const e=t.target.closest(".hci-card-hover");e.style.transform="translateY(0)",e.style.boxShadow=""}},!0)}setupLoadingStates(){document.addEventListener("submit",t=>{const e=t.target;e.classList.contains("hci-form")&&this.showFormLoading(e)}),document.addEventListener("click",t=>{t.target.matches('button[type="submit"]')&&this.showButtonLoading(t.target)})}showFormLoading(t){const e=t.querySelector('button[type="submit"]');e&&(e.classList.add("hci-loading"),e.disabled=!0)}showButtonLoading(t){t.classList.add("hci-loading"),t.disabled=!0,setTimeout(()=>{t.classList.remove("hci-loading"),t.disabled=!1},2e3)}setupScrollAnimations(){const t=new IntersectionObserver(e=>{e.forEach(s=>{s.isIntersecting&&s.target.classList.add("hci-fade-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".hci-animate-on-scroll").forEach(e=>{t.observe(e)})}setupNotificationAnimations(){const t=new MutationObserver(s=>{s.forEach(i=>{i.type==="childList"&&i.addedNodes.forEach(a=>{a.nodeType===1&&a.classList.contains("hci-notification")&&this.animateNotification(a)})})}),e=document.querySelector(".hci-notifications");e&&t.observe(e,{childList:!0,subtree:!0})}animateNotification(t){t.classList.add("hci-bounce-in"),setTimeout(()=>{t.style.animation="hci-fade-out 0.3s ease-in",setTimeout(()=>t.remove(),300)},5e3)}setupKeyboardNavigation(){document.addEventListener("keydown",t=>{if(t.key==="Escape"){const e=document.querySelector(".hci-modal.open");e&&this.closeModal(e)}t.key==="Enter"&&t.target.matches(".hci-button")&&t.target.click(),t.key==="Tab"&&this.handleTabNavigation(t)})}handleTabNavigation(t){const e=document.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=e[0],i=e[e.length-1];t.shiftKey&&document.activeElement===s?(t.preventDefault(),i.focus()):!t.shiftKey&&document.activeElement===i&&(t.preventDefault(),s.focus())}setupTouchGestures(){let t=0,e=0;document.addEventListener("touchstart",s=>{t=s.touches[0].clientY,e=s.touches[0].clientX}),document.addEventListener("touchmove",s=>{if(!t||!e)return;const i=s.touches[0].clientY,a=s.touches[0].clientX,o=t-i,c=e-a;if(Math.abs(o)>Math.abs(c)&&o>50){const n=document.querySelector(".hci-modal.open");n&&this.closeModal(n)}t=null,e=null})}closeModal(t){t.classList.remove("open"),t.classList.add("hci-modal-exit-active"),setTimeout(()=>{t.style.display="none"},200)}static showToast(t,e="info"){const s=document.createElement("div");s.className=`hci-toast hci-toast-${e} hci-bounce-in`,s.textContent=t,document.body.appendChild(s),setTimeout(()=>{s.style.animation="hci-fade-out 0.3s ease-in",setTimeout(()=>s.remove(),300)},3e3)}static showLoading(t){t.classList.add("hci-loading")}static hideLoading(t){t.classList.remove("hci-loading")}setupAdvancedHovers(){document.querySelectorAll(".hci-lift").forEach(t=>{t.addEventListener("mouseenter",()=>{t.style.transform="translateY(-2px) translateZ(0)",t.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15)"}),t.addEventListener("mouseleave",()=>{t.style.transform="translateY(0) translateZ(0)",t.style.boxShadow=""}),t.addEventListener("mousedown",()=>{t.style.transform="translateY(0) translateZ(0)",t.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1)"})}),document.querySelectorAll(".hci-rotate").forEach(t=>{t.addEventListener("mouseenter",()=>{t.style.transform="rotate(2deg) scale(1.02)"}),t.addEventListener("mouseleave",()=>{t.style.transform="rotate(0deg) scale(1)"})}),document.querySelectorAll(".hci-glow").forEach(t=>{t.addEventListener("mouseenter",()=>{t.style.boxShadow="0 0 20px rgba(77, 130, 188, 0.4)",t.style.transform="scale(1.02)"}),t.addEventListener("mouseleave",()=>{t.style.boxShadow="",t.style.transform="scale(1)"})})}setupFocusAnimations(){document.querySelectorAll(".hci-focus-pulse").forEach(t=>{t.addEventListener("focus",()=>{t.classList.add("hci-pulse-focus"),setTimeout(()=>{t.classList.remove("hci-pulse-focus")},600)})}),document.querySelectorAll(".hci-focus-ring").forEach(t=>{t.addEventListener("focus",()=>{t.style.transform="scale(1.01)"}),t.addEventListener("blur",()=>{t.style.transform="scale(1)"})})}setupSkeletonLoading(){window.createSkeletonLoader=(t,e="text")=>{const s=document.createElement("div");switch(s.className="hci-skeleton-advanced",e){case"text":s.style.height="20px",s.style.width="100%";break;case"avatar":s.style.height="40px",s.style.width="40px",s.style.borderRadius="50%";break;case"card":s.style.height="200px",s.style.width="100%";break}t.innerHTML="",t.appendChild(s)},window.removeSkeletonLoader=(t,e)=>{t.innerHTML=e}}setupToastNotifications(){window.showToast=(t,e="info",s=3e3)=>{const i=document.createElement("div");i.className="hci-toast hci-toast-enter fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm";const a={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"};i.className+=` ${a[e]||a.info}`,i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.classList.remove("hci-toast-enter"),i.classList.add("hci-toast-exit"),setTimeout(()=>{document.body.removeChild(i)},300)},s)}}setupSwipeGestures(){let t,e,s,i;document.addEventListener("touchstart",a=>{t=a.touches[0].clientX,e=a.touches[0].clientY}),document.addEventListener("touchend",a=>{s=a.changedTouches[0].clientX,i=a.changedTouches[0].clientY;const o=s-t,c=i-e;if(Math.abs(o)>Math.abs(c)&&Math.abs(o)>50){const n=a.target.closest(".hci-swipe");n&&(o>0?n.classList.add("hci-swipe-right"):n.classList.add("hci-swipe-left"))}})}setupParallaxEffects(){const t=document.querySelectorAll(".hci-parallax");window.addEventListener("scroll",()=>{const s=window.pageYOffset*-.5;t.forEach(i=>{i.style.transform=`translateY(${s}px)`})})}setupMorphingAnimations(){document.querySelectorAll(".hci-morph").forEach(t=>{t.addEventListener("click",()=>{t.classList.add("hci-morphing"),setTimeout(()=>{t.classList.remove("hci-morphing")},600)})})}static addHoverEffect(t,e="lift"){t.classList.add(`hci-${e}`)}static addFocusEffect(t,e="ring"){t.classList.add(`hci-focus-${e}`)}static addTransitionEffect(t,e="smooth"){t.classList.add(`hci-${e}`)}static animateElement(t,e){t.classList.add(`hci-${e}`),setTimeout(()=>{t.classList.remove(`hci-${e}`)},1e3)}}document.addEventListener("DOMContentLoaded",()=>{new r});window.Microinteractions=r;
