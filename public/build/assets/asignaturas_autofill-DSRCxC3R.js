window.initAsignaturaAutofill=function(){fetch("/magisteres_completo.json").then(o=>o.json()).then(o=>{const a=o.por_magister,s=o.detalles,r=document.querySelectorAll(".magister-select"),c=document.querySelectorAll(".asignatura-select");r.forEach((u,l)=>{const i=c[l];u.addEventListener("change",function(){const t=this.value;i.innerHTML='<option value="">Asignatura</option>',a[t]&&a[t].forEach(e=>{const n=document.createElement("option");n.value=e,n.textContent=e,i.appendChild(n)})}),i.addEventListener("change",function(){const t=this.value,e=this.closest(".grid"),n=e.querySelector('input[name^="usos"][name$="[year]"]'),d=e.querySelector('input[name^="usos"][name$="[trimestre]"]');s[t]&&(n.value=s[t].aÃ±o,d.value=s[t].trimestre)})})})};document.addEventListener("DOMContentLoaded",()=>{window.initAsignaturaAutofill&&window.initAsignaturaAutofill()});
